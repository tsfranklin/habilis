# ===================================
# CONFIGURACIÓN DEL SERVIDOR
# ===================================
server.port=8080
spring.application.name=habilis-api

# ===================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===================================
# URL de conexión a PostgreSQL
# Formato: jdbc:postgresql://[host]:[puerto]/[nombre_bd]
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/habilis_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:admin123}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================
# CONFIGURACIÓN JPA/HIBERNATE
# ===================================
# Dialecto de PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Mostrar SQL en consola (útil para desarrollo)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Estrategia de generación de esquema
# - none: No hace nada
# - validate: Valida el esquema, no hace cambios
# - update: Actualiza el esquema (RECOMENDADO para desarrollo)
# - create: Crea el esquema, destruyendo datos previos
# - create-drop: Crea el esquema y lo elimina al cerrar
spring.jpa.hibernate.ddl-auto=update

# Propiedades adicionales de Hibernate
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# ===================================
# CONFIGURACIÓN DE LOGGING
# ===================================
logging.level.com.habilis.api=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===================================
# CONFIGURACIÓN ADICIONAL
# ===================================
# Formato de fecha/hora JSON
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Europe/Madrid

# ===================================
# CONFIGURACIÓN DE EMAIL (SMTP)
# ===================================
# Configuración para Gmail (usar App Password, no contraseña normal)
# IMPORTANTE: Reemplazar con tus credenciales reales o usar Mailtrap para testing
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:noreply@habilis.com}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

